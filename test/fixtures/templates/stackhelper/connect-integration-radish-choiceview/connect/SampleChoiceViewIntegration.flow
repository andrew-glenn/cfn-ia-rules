{"modules":[{"id":"7a8d3c79-0723-46a7-8f36-b1f7c80fdea0","type":"PlayPrompt","branches":[{"condition":"Success","transition":"96f62f74-1905-40cd-acca-714c0782717a"}],"parameters":[{"name":"Text","value":"You did not start a ChoiceView session. Please try your call again when you can start a session.","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":2164,"y":385},"useDynamic":false}},{"id":"96f62f74-1905-40cd-acca-714c0782717a","type":"Disconnect","branches":[],"parameters":[],"metadata":{"position":{"x":3325,"y":403}}},{"id":"431f29e2-cca7-44e4-a449-90a38c2d327b","type":"PlayPrompt","branches":[{"condition":"Success","transition":"96f62f74-1905-40cd-acca-714c0782717a"}],"parameters":[{"name":"Text","value":"Sorry, we cannot start a ChoiceView session. Goodbye.","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":1434,"y":606},"useDynamic":false}},{"id":"4d36a741-bc87-4035-b3fa-9c8390e687ac","type":"PlayPrompt","branches":[{"condition":"Success","transition":"7eefafd6-402f-4759-967c-b017ef5f3969"}],"parameters":[{"name":"Text","value":"Now starting a Choiceview session. You will receive a SMS message on your phone. The message will have a link to the ChoiceView client. Click on the link to start the ChoiceView session.","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":369,"y":493},"useDynamic":false}},{"id":"7eefafd6-402f-4759-967c-b017ef5f3969","type":"InvokeExternalResource","branches":[{"condition":"Success","transition":"35c77601-311e-4e0b-85a5-883381ac2655"},{"condition":"Error","transition":"431f29e2-cca7-44e4-a449-90a38c2d327b"}],"parameters":[{"name":"FunctionArn","value":"arn:aws:lambda:us-east-1:396263001796:function:QuickStartTest01-ChoiceviewIntegration-1JJ825SGKCP8Q","namespace":null},{"name":"TimeLimit","value":"8"},{"name":"Parameter","key":"RequestName","value":"CreateSessionWithSms","namespace":null},{"name":"Parameter","key":"SmsMessage","value":"Tap this link to start ChoiceView: https://choiceview.com/secure.html?phone=","namespace":null}],"metadata":{"position":{"x":621,"y":546},"dynamicMetadata":{"RequestName":false,"SmsMessage":false},"useDynamic":false},"target":"Lambda"},{"id":"35c77601-311e-4e0b-85a5-883381ac2655","type":"CheckAttribute","branches":[{"condition":"Evaluate","conditionType":"Equals","conditionValue":"true","transition":"42530ecc-6883-426e-8904-432df8d010b5"},{"condition":"NoMatch","transition":"431f29e2-cca7-44e4-a449-90a38c2d327b"}],"parameters":[{"name":"Attribute","value":"LambdaResult"},{"name":"Namespace","value":"External"}],"metadata":{"position":{"x":890,"y":441},"conditionMetadata":[{"id":"e229ceff-ad86-4b18-adae-19b46a2367b8","operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"true"}]}},{"id":"42530ecc-6883-426e-8904-432df8d010b5","type":"SetAttributes","branches":[{"condition":"Success","transition":"72ca4365-2b97-4e57-b994-eb1ccfcd40c4"},{"condition":"Error","transition":"76d9f2ee-2d70-4d1a-9654-4460998cf06d"}],"parameters":[{"name":"Attribute","value":"QueryUrl","key":"QueryUrl","namespace":"External"},{"name":"Attribute","value":"SmsSent","key":"SmsSent","namespace":"External"},{"name":"Attribute","value":"ConnectStartTime","key":"ConnectStartTime","namespace":"External"}],"metadata":{"position":{"x":1141,"y":340}}},{"id":"d366aa94-8fef-4f50-82d3-202d40fba7d5","type":"CheckAttribute","branches":[{"condition":"Evaluate","conditionType":"Equals","conditionValue":"true","transition":"a2f837da-7e91-48a9-b042-1f237e2a5aa1"},{"condition":"NoMatch","transition":"72ca4365-2b97-4e57-b994-eb1ccfcd40c4"}],"parameters":[{"name":"Attribute","value":"SessionRetrieved"},{"name":"Namespace","value":"External"}],"metadata":{"position":{"x":2160,"y":56},"conditionMetadata":[{"id":"96eda6c8-cb61-4131-8493-9ff1729cf11c","operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"true"}]}},{"id":"6184e286-f4f9-4e3c-8d26-ff4ec9fc94d4","type":"CheckAttribute","branches":[{"condition":"Evaluate","conditionType":"Equals","conditionValue":"true","transition":"7a8d3c79-0723-46a7-8f36-b1f7c80fdea0"},{"condition":"NoMatch","transition":"d366aa94-8fef-4f50-82d3-202d40fba7d5"}],"parameters":[{"name":"Attribute","value":"SessionTimeout"},{"name":"Namespace","value":"External"}],"metadata":{"position":{"x":1923,"y":318},"conditionMetadata":[{"id":"c400d7a1-59e1-44f6-8b93-0f6291026a54","operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"true"}]}},{"id":"76d9f2ee-2d70-4d1a-9654-4460998cf06d","type":"PlayPrompt","branches":[{"condition":"Success","transition":"41117d7b-2927-4a33-9edc-897b1a6450fa"}],"parameters":[{"name":"Text","value":"An error occurred while starting the session. Goodbye.","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":2611,"y":534},"useDynamic":false}},{"id":"72ca4365-2b97-4e57-b994-eb1ccfcd40c4","type":"InvokeExternalResource","branches":[{"condition":"Success","transition":"707706e2-648f-4414-bbcd-fb3bbada53a7"},{"condition":"Error","transition":"76d9f2ee-2d70-4d1a-9654-4460998cf06d"}],"parameters":[{"name":"FunctionArn","value":"arn:aws:lambda:us-east-1:396263001796:function:QuickStartTest01-ChoiceviewIntegration-1JJ825SGKCP8Q","namespace":null},{"name":"TimeLimit","value":"8"},{"name":"Parameter","key":"RequestName","value":"QuerySession","namespace":null}],"metadata":{"position":{"x":1437,"y":359},"dynamicMetadata":{"RequestName":false},"useDynamic":false},"target":"Lambda"},{"id":"707706e2-648f-4414-bbcd-fb3bbada53a7","type":"CheckAttribute","branches":[{"condition":"Evaluate","conditionType":"Equals","conditionValue":"true","transition":"6184e286-f4f9-4e3c-8d26-ff4ec9fc94d4"},{"condition":"NoMatch","transition":"76d9f2ee-2d70-4d1a-9654-4460998cf06d"}],"parameters":[{"name":"Attribute","value":"LambdaResult"},{"name":"Namespace","value":"External"}],"metadata":{"position":{"x":1682,"y":265},"conditionMetadata":[{"id":"5ea99919-c2ef-47ed-8c68-53334a4b8ae1","operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"true"}]}},{"id":"41117d7b-2927-4a33-9edc-897b1a6450fa","type":"InvokeExternalResource","branches":[{"condition":"Success","transition":"96f62f74-1905-40cd-acca-714c0782717a"},{"condition":"Error","transition":"96f62f74-1905-40cd-acca-714c0782717a"}],"parameters":[{"name":"FunctionArn","value":"arn:aws:lambda:us-east-1:396263001796:function:QuickStartTest01-ChoiceviewIntegration-1JJ825SGKCP8Q","namespace":null},{"name":"TimeLimit","value":"3"},{"name":"Parameter","key":"RequestName","value":"EndSession","namespace":null}],"metadata":{"position":{"x":3084,"y":274},"dynamicMetadata":{"RequestName":false},"useDynamic":false},"target":"Lambda"},{"id":"1b9a1e90-a330-450b-85a9-dcad8ef3b045","type":"PlayPrompt","branches":[{"condition":"Success","transition":"41117d7b-2927-4a33-9edc-897b1a6450fa"}],"parameters":[{"name":"Text","value":"This is the end of the sample contact flow. Goodbye..","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":3121,"y":76},"useDynamic":false}},{"id":"b92f9134-b7fa-4f2a-8ffd-f6499da23739","type":"CheckAttribute","branches":[{"condition":"NoMatch","transition":"01d2bdd9-6447-4476-9872-fc83c3550814"},{"condition":"Evaluate","conditionType":"Equals","conditionValue":"true","transition":"1b9a1e90-a330-450b-85a9-dcad8ef3b045"}],"parameters":[{"name":"Attribute","value":"LambdaResult"},{"name":"Namespace","value":"External"}],"metadata":{"position":{"x":2846,"y":11},"conditionMetadata":[{"id":"12d10648-9b60-4cb4-9b3b-9b45a187f5e5","operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"true"}]}},{"id":"01d2bdd9-6447-4476-9872-fc83c3550814","type":"PlayPrompt","branches":[{"condition":"Success","transition":"41117d7b-2927-4a33-9edc-897b1a6450fa"}],"parameters":[{"name":"Text","value":"Could not send a web page to the ChoiceView client. Goodbye.","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":2839,"y":229},"useDynamic":false}},{"id":"a2f837da-7e91-48a9-b042-1f237e2a5aa1","type":"SetAttributes","branches":[{"condition":"Success","transition":"d30f0c0a-64c7-49a2-a1fa-e0817cb256d3"},{"condition":"Error","transition":"76d9f2ee-2d70-4d1a-9654-4460998cf06d"}],"parameters":[{"name":"Attribute","value":"SessionUrl","key":"SessionUrl","namespace":"External"},{"name":"Attribute","value":"PropertiesUrl","key":"PropertiesUrl","namespace":"External"},{"name":"Attribute","value":"ControlMessageUrl","key":"ControlMessageUrl","namespace":"External"},{"name":"Attribute","value":"SessionStatus","key":"SessionStatus","namespace":"External"}],"metadata":{"position":{"x":2386,"y":100}}},{"id":"d30f0c0a-64c7-49a2-a1fa-e0817cb256d3","type":"InvokeExternalResource","branches":[{"condition":"Success","transition":"b92f9134-b7fa-4f2a-8ffd-f6499da23739"},{"condition":"Error","transition":"01d2bdd9-6447-4476-9872-fc83c3550814"}],"parameters":[{"name":"FunctionArn","value":"arn:aws:lambda:us-east-1:396263001796:function:QuickStartTest01-ChoiceviewIntegration-1JJ825SGKCP8Q","namespace":null},{"name":"TimeLimit","value":"8"},{"name":"Parameter","key":"RequestName","value":"SendUrl","namespace":null},{"name":"Parameter","key":"ClientUrl","value":"https://cvnet.radishsystems.com/choiceview/ivr/radish_transfer.html","namespace":null}],"metadata":{"position":{"x":2610,"y":36},"dynamicMetadata":{"RequestName":false,"ClientUrl":false},"useDynamic":false},"target":"Lambda"}],"version":"1","type":"contactFlow","start":"4d36a741-bc87-4035-b3fa-9c8390e687ac","metadata":{"entryPointPosition":{"x":176,"y":454},"snapToGrid":false,"name":"Sample ChoiceView Integration","description":"Invokes a lambda function to determine information about the user.","type":"contactFlow","status":"published","hash":"dd0c7e883546faf255f52ddebffaa6f3fe3bd70b22fa0a9393d4e9dc20ddf2a1"}}